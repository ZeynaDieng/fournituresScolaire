<template>
  <div class="min-h-screen bg-gray-50">
    <AppHeader />

    <main class="max-w-4xl mx-auto px-4 py-12 sm:px-6 lg:px-8">
      <div class="bg-white shadow overflow-hidden sm:rounded-lg">
        <div class="px-4 py-5 sm:px-6 bg-gray-50">
          <h1 class="text-3xl font-bold text-gray-900">
            Politique relative aux cookies
          </h1>
          <p class="mt-1 max-w-2xl text-sm text-gray-500">
            Dernière mise à jour : 30/08/2025
          </p>
        </div>

        <div class="px-4 py-5 sm:p-6">
          <div class="prose max-w-none">
            <section class="mb-8">
              <h2 class="text-2xl font-semibold text-gray-900 mb-4">
                1. Qu'est-ce qu'un cookie ?
              </h2>
              <p class="text-gray-700">
                Un cookie est un petit fichier texte déposé sur votre
                ordinateur, tablette ou téléphone mobile lorsque vous visitez un
                site internet. Les cookies sont largement utilisés pour faire
                fonctionner les sites web ou les applications mobiles, ou pour
                les faire fonctionner plus efficacement, ainsi que pour fournir
                des informations aux propriétaires du site.
              </p>
            </section>

            <section class="mb-8">
              <h2 class="text-2xl font-semibold text-gray-900 mb-4">
                2. Pourquoi utilisons-nous des cookies ?
              </h2>
              <p class="text-gray-700 mb-4">
                Nous utilisons des cookies pour plusieurs raisons :
              </p>
              <ul class="list-disc pl-6 text-gray-700 space-y-2 mb-4">
                <li>
                  <span class="font-medium">Cookies essentiels :</span> Ces
                  cookies sont nécessaires au bon fonctionnement de notre site.
                  Ils vous permettent d'utiliser les fonctionnalités principales
                  et de naviguer en toute sécurité.
                </li>
                <li>
                  <span class="font-medium">Cookies de performance :</span> Ces
                  cookies nous aident à comprendre comment les visiteurs
                  interagissent avec notre site, en recueillant des informations
                  de manière anonyme.
                </li>
                <li>
                  <span class="font-medium">Cookies de fonctionnalité :</span>
                  Ces cookies permettent au site de se souvenir des choix que
                  vous faites (comme votre nom d'utilisateur, votre langue ou la
                  région dans laquelle vous vous trouvez) pour vous offrir une
                  expérience plus personnalisée.
                </li>
                <li>
                  <span class="font-medium">Cookies de ciblage :</span> Ces
                  cookies peuvent être définis par nos partenaires publicitaires
                  pour suivre votre navigation et vous montrer des publicités
                  pertinentes sur d'autres sites.
                </li>
              </ul>
            </section>

            <section class="mb-8">
              <h2 class="text-2xl font-semibold text-gray-900 mb-4">
                3. Les cookies que nous utilisons
              </h2>
              <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                  <thead class="bg-gray-50">
                    <tr>
                      <th
                        scope="col"
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                      >
                        Nom du cookie
                      </th>
                      <th
                        scope="col"
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                      >
                        Fournisseur
                      </th>
                      <th
                        scope="col"
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                      >
                        Finalité
                      </th>
                      <th
                        scope="col"
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                      >
                        Durée
                      </th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    <tr>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"
                      >
                        session_id
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        EduShop
                      </td>
                      <td class="px-6 py-4 text-sm text-gray-500">
                        Maintien de la session utilisateur
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Session
                      </td>
                    </tr>
                    <tr class="bg-gray-50">
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"
                      >
                        cookie_consent
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        EduShop
                      </td>
                      <td class="px-6 py-4 text-sm text-gray-500">
                        Enregistrement de votre consentement aux cookies
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        1 an
                      </td>
                    </tr>
                    <tr>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"
                      >
                        _ga
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Google Analytics
                      </td>
                      <td class="px-6 py-4 text-sm text-gray-500">
                        Analyse d'audience et statistiques
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        2 ans
                      </td>
                    </tr>
                    <tr class="bg-gray-50">
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"
                      >
                        _gid
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Google Analytics
                      </td>
                      <td class="px-6 py-4 text-sm text-gray-500">
                        Analyse d'audience et statistiques
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        24 heures
                      </td>
                    </tr>
                    <tr>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"
                      >
                        _fbp
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Facebook
                      </td>
                      <td class="px-6 py-4 text-sm text-gray-500">
                        Publicité ciblée
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        3 mois
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </section>

            <section class="mb-8">
              <h2 class="text-2xl font-semibold text-gray-900 mb-4">
                4. Comment gérer les cookies ?
              </h2>
              <p class="text-gray-700 mb-4">
                Vous pouvez gérer et supprimer les cookies selon vos
                préférences. Vous pouvez supprimer tous les cookies déjà
                présents sur votre appareil et configurer la plupart des
                navigateurs pour qu'ils les bloquent. Toutefois, dans ce cas,
                vous devrez peut-être indiquer manuellement certaines
                préférences chaque fois que vous vous rendrez sur le site, et
                certains services et fonctionnalités pourraient ne pas être
                accessibles.
              </p>

              <h3 class="text-xl font-semibold text-gray-900 mt-6 mb-3">
                4.1. Gestion des cookies via votre navigateur
              </h3>
              <p class="text-gray-700 mb-4">
                La plupart des navigateurs vous permettent de :
              </p>
              <ul class="list-disc pl-6 text-gray-700 space-y-2 mb-4">
                <li>
                  Voir les cookies que vous avez et les supprimer
                  individuellement
                </li>
                <li>Bloquer les cookies tiers</li>
                <li>Bloquer les cookies de sites spécifiques</li>
                <li>Bloquer tous les cookies</li>
                <li>
                  Supprimer tous les cookies lorsque vous fermez votre
                  navigateur
                </li>
              </ul>
              <p class="text-gray-700 mb-4">
                La procédure pour gérer les cookies est différente selon les
                navigateurs. Vous trouverez des instructions dans le menu d'aide
                de votre navigateur :
              </p>
              <ul class="list-disc pl-6 text-gray-700 space-y-1 mb-6">
                <li>
                  <a
                    href="https://support.google.com/chrome/answer/95647"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="text-primary-600 hover:underline"
                    >Chrome</a
                  >
                </li>
                <li>
                  <a
                    href="https://support.mozilla.org/fr/kb/effacer-les-cookies-pour-supprimer-les-information"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="text-primary-600 hover:underline"
                    >Firefox</a
                  >
                </li>
                <li>
                  <a
                    href="https://support.apple.com/fr-fr/guide/safari/sfri11471/mac"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="text-primary-600 hover:underline"
                    >Safari</a
                  >
                </li>
                <li>
                  <a
                    href="https://support.microsoft.com/fr-fr/microsoft-edge/supprimer-les-cookies-dans-microsoft-edge-63947406-40ac-c3b8-57b9-2a946a29ae09"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="text-primary-600 hover:underline"
                    >Microsoft Edge</a
                  >
                </li>
                <li>
                  <a
                    href="https://support.microsoft.com/fr-fr/windows/supprimer-et-g%C3%A9rer-les-cookies-168dab11-0753-043d-7c16-ede5947fc64d"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="text-primary-600 hover:underline"
                    >Internet Explorer</a
                  >
                </li>
              </ul>

              <h3 class="text-xl font-semibold text-gray-900 mt-6 mb-3">
                4.2. Outils de gestion des cookies tiers
              </h3>
              <p class="text-gray-700 mb-4">
                Vous pouvez également gérer les cookies de certains fournisseurs
                tiers via les plateformes suivantes :
              </p>
              <ul class="list-disc pl-6 text-gray-700 space-y-1">
                <li>
                  <a
                    href="https://adssettings.google.com/"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="text-primary-600 hover:underline"
                    >Google Analytics Opt-out Browser Add-on</a
                  >
                </li>
                <li>
                  <a
                    href="https://www.youronlinechoices.com/"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="text-primary-600 hover:underline"
                    >Your Online Choices (plateforme européenne de gestion des
                    cookies publicitaires)</a
                  >
                </li>
              </ul>
            </section>

            <section class="mb-8">
              <h2 class="text-2xl font-semibold text-gray-900 mb-4">
                5. Vos choix concernant les cookies
              </h2>
              <p class="text-gray-700 mb-4">
                Lors de votre première visite sur notre site, une bannière vous
                informe de l'utilisation de cookies et vous permet d'accepter ou
                de refuser les cookies non essentiels. Vous pouvez modifier vos
                préférences à tout moment en cliquant sur le bouton "Gérer les
                cookies" en bas de chaque page.
              </p>
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                <div class="flex">
                  <div class="flex-shrink-0">
                    <svg
                      class="h-5 w-5 text-blue-400"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </div>
                  <div class="ml-3">
                    <p class="text-sm text-blue-700">
                      Veuillez noter que le blocage de certains types de cookies
                      peut impacter votre expérience sur notre site et les
                      services que nous sommes en mesure d'offrir.
                    </p>
                  </div>
                </div>
              </div>
            </section>

            <section class="mb-8">
              <h2 class="text-2xl font-semibold text-gray-900 mb-4">
                6. Mises à jour de notre politique relative aux cookies
              </h2>
              <p class="text-gray-700">
                Nous pouvons mettre à jour cette politique de temps à autre pour
                refléter les changements technologiques, les évolutions de nos
                services ou les modifications de la réglementation. Nous vous
                encourageons à consulter régulièrement cette page pour prendre
                connaissance des éventuelles mises à jour. La date de la
                dernière mise à jour est indiquée en haut de ce document.
              </p>
            </section>

            <section>
              <h2 class="text-2xl font-semibold text-gray-900 mb-4">
                7. Nous contacter
              </h2>
              <p class="text-gray-700 mb-2">
                Si vous avez des questions concernant notre politique relative
                aux cookies, n'hésitez pas à nous contacter :
              </p>
              <address class="not-italic text-gray-700">
                <p>EduShop Sénégal</p>
                <p>Service Protection des Données</p>
                <p>Ouakam Cité Avion, Dakar</p>
                <p>
                  Email :
                  <a
                    href="mailto:donnees-personnelles@edushop.sn"
                    class="text-primary-600 hover:underline"
                    >donnees-personnelles@edushop.sn</a
                  >
                </p>
                <p>Téléphone : +221 78 291 18 44</p>
              </address>
              <p class="text-gray-700 mt-4">
                Pour toute question relative à la protection de vos données
                personnelles, veuillez consulter notre
                <NuxtLink
                  to="/confidentialite"
                  class="text-primary-600 hover:underline"
                  >Politique de confidentialité</NuxtLink
                >.
              </p>
            </section>
          </div>

          <div class="mt-8 pt-6 border-t border-gray-200">
            <button
              @click="manageCookies"
              class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"
            >
              <svg
                class="-ml-1 mr-2 h-5 w-5"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"
                  clip-rule="evenodd"
                />
              </svg>
              Gérer mes préférences de cookies
            </button>
          </div>
        </div>
      </div>
    </main>

    <AppFooter />
  </div>
</template>

<script setup>
// Utilisation du layout par défaut
definePageMeta({
  layout: "default",
});

// Fonction pour gérer les préférences de cookies
const manageCookies = () => {
  // Ici, vous pourriez ouvrir une modale ou rediriger vers un panneau de gestion des cookies
  // Pour l'instant, on affiche une alerte
  alert("Ouvrir le gestionnaire de préférences des cookies");
  // Implémentation possible : ouvrir une modale avec des cases à cocher pour chaque type de cookie
};

// SEO et métadonnées
useHead({
  title: "Politique relative aux cookies - EduShop",
  meta: [
    {
      name: "description",
      content:
        "Découvrez comment EduShop utilise les cookies pour améliorer votre expérience et comment vous pouvez gérer vos préférences.",
    },
  ],
});
</script>

<style scoped>
/* Styles spécifiques à la page des cookies */
.prose {
  color: #374151;
  line-height: 1.75;
}

.prose h2 {
  color: #111827;
  font-weight: 600;
  margin-top: 2em;
  margin-bottom: 1em;
  line-height: 1.3;
  font-size: 1.5rem;
}

.prose h3 {
  color: #1f2937;
  font-weight: 500;
  margin-top: 1.5em;
  margin-bottom: 0.75em;
  font-size: 1.25rem;
}

.prose p,
.prose ul,
.prose ol {
  margin-bottom: 1.25em;
  color: #4b5563;
}

.prose li {
  margin-bottom: 0.5em;
}

/* Style pour le tableau des cookies */
table {
  border-collapse: collapse;
  width: 100%;
  margin: 1.5em 0;
  font-size: 0.9em;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
  border-radius: 0.5rem;
  overflow: hidden;
}

th,
td {
  padding: 12px 15px;
  text-align: left;
  border-bottom: 1px solid #e5e7eb;
}

th {
  background-color: #f9fafb;
  color: #4b5563;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.75em;
}

tr:nth-child(even) {
  background-color: #f9fafb;
}

/* Style pour les liens dans le contenu */
a {
  @apply text-primary-600 hover:text-primary-800 transition-colors duration-200;
}

/* Amélioration de la lisibilité sur mobile */
@media (max-width: 640px) {
  .prose {
    font-size: 0.9375rem;
  }

  .prose h2 {
    font-size: 1.25rem;
  }

  .prose h3 {
    font-size: 1.125rem;
  }

  table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
}
</style>
